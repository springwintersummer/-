# 4、通过调试器监控计算器程序的运行，每当运行结果为666时，就改为999。

## 环境

- windows7
- windbg

## 实验过程

输入命令运行下列文件

```bash
bp SetWindowTextW "$<文件路径"
```

```bash
#cal.txt
# 定义一个变量name,将poi（esp+0x8）处的 unicode字符串取出赋给name
as /mu ${/v:name1} poi(esp+0x8)
# 比较字符串，如果name和666相等就显示999，否则输出name的值
.if($scmp(@"${name1}","666")==0){ezu poi(esp+0x8) "999";}.else{.echo ${name1};}
# 继续运行程序
g
```

